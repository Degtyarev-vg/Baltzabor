"use strict";$(document).ready(function(){$(".popup-with-zoom-anim").magnificPopup({type:"inline",fixedContentPos:!1,fixedBgPos:!0,overflowY:"auto",closeBtnInside:!0,preloader:!1,midClick:!0,removalDelay:300,mainClass:"my-mfp-zoom-in"})}),$(function(){var e=$(".header__top").offset().top+300,t=function(){$(window).scrollTop()>e?$(".header__top").addClass("header__top_sticky"):$(".header__top").removeClass("header__top_sticky")};t(),$(window).scroll(function(){return t()})}),$(function(){$(".hamburger").click(function(){return $(this).toggleClass("hamburger_open").find(".hamburger__btn").toggleClass("hamburger__btn_on"),$(".top-menu").fadeToggle(),$(".page").toggleClass("page_fixed"),!1})}),$(function(){function e(e){var t=$(".top-menu");t.is(e.target)||0!==t.has(e.target).length||$(e.target).hasClass("hamburger")||$(e.target).hasClass("hamburger__btn")||(t.fadeOut(),$(".hamburger").removeClass("hamburger_open").find(".hamburger__btn").removeClass("hamburger__btn_on"),$(".page").removeClass("page_fixed"))}function t(t){t.matches?($(".top-menu__item_has-child").click(function(){$(this).find(".top-menu__submenu").slideToggle(),$(this).toggleClass("top-menu__item_open")}),document.addEventListener("touchstart",e,!1),document.addEventListener("click",e,!1),$(".top-menu").is(":visible")&&$(".page").addClass("page_fixed"),$(".top-menu__submenu").css("display","none")):($(".top-menu__item_has-child").unbind("click").removeClass("top-menu__item_open"),document.removeEventListener("touchstart",e,!1),document.removeEventListener("click",e,!1),$(".page").removeClass("page_fixed"),$(".top-menu__submenu").css("display","block"))}var i=window.matchMedia("screen and (max-width: 1199px)");i.addListener(t),t(i)}),$(function(){"false"==localStorage.getItem("font-switch")?($(".font-switch__button_minus").addClass("font-switch__button_active"),$("html").removeClass("html_font-zoom")):"true"==localStorage.getItem("font-switch")&&($(".font-switch__button_plus").addClass("font-switch__button_active"),$("html").addClass("html_font-zoom")),$(".font-switch__button_plus").click(function(){return $("html").addClass("html_font-zoom"),$(".font-switch__button_minus").removeClass("font-switch__button_active"),$(this).addClass("font-switch__button_active"),localStorage.setItem("font-switch",!0),!1}),$(".font-switch__button_minus").click(function(){return $("html").removeClass("html_font-zoom"),$(".font-switch__button_plus").removeClass("font-switch__button_active"),$(this).addClass("font-switch__button_active"),localStorage.setItem("font-switch",!1),!1})}),$(function(){$(".faq-block__title").click(function(){return $(this).parents(".faq-block__item").toggleClass("faq-block__item_open").find(".faq-block__text").slideToggle(),!1})}),$(function(){$(".section-reviews__slider").slick({infinite:!0,autoplay:!1,speed:500,slidesToShow:1,slidesToScroll:1,swipeToSlide:!0,draggable:!0,dots:!1,adaptiveHeight:!0,arrows:!0,focusOnSelect:!0,appendArrows:$(".section-reviews__navigation"),prevArrow:'<span class="section-reviews__prev"></span>',nextArrow:'<span class="section-reviews__next"></span>'})}),$(function(){$(".section-works__item").each(function(e){var t=$(this).find(".section-works__img").attr("src");$(this).css({background:"url("+t+") center no-repeat","background-size":"cover"})}),$(".section-works__slider").slick({infinite:!0,fade:!1,autoplay:!1,autoplaySpeed:5e3,speed:500,slidesToShow:1,slidesToScroll:1,swipeToSlide:!0,dots:!1,adaptiveHeight:!1,arrows:!0,asNavFor:".section-works__slider-previews",appendArrows:$(".section-works__navigation"),prevArrow:'<span class="section-works__prev"></span>',nextArrow:'<span class="section-works__next"></span>'}).on("swipe",function(e,t,i){console.log(i)}),$(".section-works__item-previews").each(function(e){var t=$(this).find(".section-works__img-previews").attr("src");$(this).css({background:"url("+t+") center no-repeat","background-size":"cover"})}),$(".section-works__slider-previews").slick({infinite:!0,slidesToShow:3,slidesToScroll:1,swipeToSlide:!0,arrows:!1,dots:!1,focusOnSelect:!0,vertical:!0,verticalSwiping:!0,asNavFor:".section-works__slider",responsive:[{breakpoint:992,settings:{vertical:!1,verticalSwiping:!1}},{breakpoint:480,settings:{vertical:!1,verticalSwiping:!1,slidesToShow:2}}]})}),$(function(){$(".section-prices__list").slick({infinite:!0,fade:!1,autoplay:!1,speed:0,slidesToShow:1,slidesToScroll:1,swipe:!1,draggable:!1,variableWidth:!0,dots:!1,adaptiveHeight:!0,arrows:!0,centerMode:!0,focusOnSelect:!0,appendArrows:$(".section-prices__navigation"),prevArrow:'<span class="section-prices__prev"></span>',nextArrow:'<span class="section-prices__next"></span>',responsive:[{breakpoint:768,settings:{speed:500,centerMode:!1,variableWidth:!1,swipe:!0,draggable:!0}},{breakpoint:450,settings:{speed:500,centerMode:!1,variableWidth:!1,swipe:!0,draggable:!0,dots:!0,appendDots:$(".section-prices__navigation")}}]}).on("afterChange",function(e,t,i,s){$(this).find(".section-prices__item").each(function(){$(this).removeClass("section-prices__item_slide-prev"),$(this).removeClass("section-prices__item_slide-next")}),$(this).find(".slick-center").next().addClass("section-prices__item_slide-prev"),$(this).find(".slick-center").prev().addClass("section-prices__item_slide-next")})}),$(function(){var e=document.querySelectorAll(".input-file__input");Array.prototype.forEach.call(e,function(e){var t=e.nextElementSibling,i=t.innerHTML;e.addEventListener("change",function(e){var s="";(s=this.files&&this.files.length>1&&this.files.length<=4?this.files.length+" файла выбрано":this.files&&this.files.length>4?this.files.length+" файлов выбрано":e.target.value.split("\\").pop())?t.querySelector(".input-file__field").innerHTML=s:t.innerHTML=i})})}),$(function(){$(".form-validation").each(function(){var e=$(this).find('input[type="submit"]'),t=$(this).find('input[name="name"]'),i=$(this).find('input[name="email"]'),s=$(this).find('input[name="phone"]');t.length&&null!=localStorage.getItem("inputName")&&t.val(localStorage.getItem("inputName")),i.length&&null!=localStorage.getItem("inputEmail")&&i.val(localStorage.getItem("inputEmail")),s.length&&null!=localStorage.getItem("inputPhone")&&s.val(localStorage.getItem("inputPhone")),$(this).validate({highlight:function(e,t){$(e).removeClass("validation_valid").addClass("validation_invalid")},unhighlight:function(e,t){$(e).addClass("validation_valid").removeClass("validation_invalid")},errorElement:"span",errorClass:"form-validation__error-text",ignore:".validation_ignore",focusInvalid:!0,submitHandler:function(n){var o=$(n);return $.ajax({}).done(function(n){!function(e,t,i){localStorage.setItem("inputName",e),localStorage.setItem("inputEmail",t),localStorage.setItem("inputPhone",i)}(t.val(),i.val(),s.val()),e.attr("disabled","disabled"),alert("Заявка отправлена, спасибо! В общем тут нужно сделать что-то более красивое, нежели нативный alert, а также добавить обработчик, чтобы данные отправлялись."),setTimeout(function(){o.trigger("reset"),e.removeAttr("disabled"),o.find(".validation_valid").removeClass("validation_valid"),o.find(".form-validation__group_valid").removeClass("form-validation__group_valid")},3e3)}),!1}}),$.validator.addMethod("myEmail",function(e,t){return this.optional(t)||/^(([^<>()[\]\\.,;:\s@\']+(\.[^<>()[\]\\.,;:\s@\']+)*)|(\'.+\'))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)},"Некорректный email"),$.validator.addMethod("validationRequired",$.validator.methods.required,"Обязательное поле!"),$.validator.addMethod("validationMinlength",$.validator.methods.minlength,"Минимум {0} символов!"),$.validator.addMethod("validationMaxlength",$.validator.methods.maxlength,"Максимум {0} символов!"),$.validator.addMethod("validationDigits",$.validator.methods.digits,"Должны быть только цифры!"),$.validator.addMethod("validationRangelength",$.validator.methods.rangelength,"Символов не менее {0} и не более {1}"),$.validator.addClassRules({validation:{validationRequired:!0},validation_email:{myEmail:!0},validation_minlength:{validationMinlength:3},validation_maxlength:{validationMaxlength:10},validation_digits:{validationDigits:!0},validation_rangelength:{validationRangelength:[3,7]}})})}),$(function(){$(".mask_phone").mask("+7(999) 999-99-99"),$.mask.definitions.H="[012]",$.mask.definitions.M="[012345]",$(".mask_time").mask("H9:M9",{placeholder:"_",completed:function(){var e=$(this).val().split(":");1*e[0]>23&&(e[0]="23"),1*e[1]>59&&(e[1]="59"),$(this).val(e.join(":"))}})}),$(function(){$(window).scroll(function(){$(this).scrollTop()>400?$(".to-top").fadeIn():$(".to-top").fadeOut()}),$(".to-top").click(function(){return $("html, body").animate({scrollTop:0},600),!1})}),$(function(){function e(e){e.matches?($(".footer-inner__menu-title").click(function(){$(this).toggleClass("footer-inner__menu-title_open").next().slideToggle()}),$(".footer-inner__menu-list").css("display","none"),$(".footer-inner__contacts-block").css("display","none")):($(".footer-inner__menu-title").unbind("click").removeClass("footer-inner__menu-title_open"),$(".footer-inner__menu-list").css("display","inline-block"),$(".footer-inner__contacts-block").css("display","inline-block"))}var t=window.matchMedia("screen and (max-width: 767px)");t.addListener(e),e(t)}),$(function(){function e(e){if(e.matches){$(".section-issues__item_desktop .section-issues__question").unbind("click"),$(".section-issues__item_mobile .section-issues__question").click(function(e){e.preventDefault(),$(".section-issues .section-issues__question").removeClass("section-issues__question_active"),$(this).addClass("section-issues__question_active");var t=$(this).attr("href");$(".section-issues__content").not(t).css({display:"none"}),$(t).fadeIn(500)});var t=$(".section-issues__question_active").attr("href");$(t).css("display","block")}else{$(".section-issues__item_mobile .section-issues__question").unbind("click"),$(".section-issues__item_desktop .section-issues__question").click(function(e){e.preventDefault();var t=$(this).attr("href"),i=$(t).html();$(this).hasClass("section-issues__question_active")||$(".section-issues__for-content").html(i),$(".section-issues .section-issues__question").removeClass("section-issues__question_active"),$(this).addClass("section-issues__question_active")});var i=$(".section-issues__question_active").attr("href"),s=$(i).html();$(".section-issues__for-content").html(s)}}$(".section-issues__item_desktop .section-issues__block").click(function(e){e.preventDefault(),$(this).hasClass("section-issues__block_open")?($(this).removeClass("section-issues__block_open"),$(this).parents(".section-issues__item").find(".section-issues__questions").slideUp()):($(this).addClass("section-issues__block_open"),$(this).parents(".section-issues__item").find(".section-issues__questions").slideDown(),$(".section-issues__item").find(".section-issues__block").not($(this)).removeClass("section-issues__block_open").parents(".section-issues__item").find(".section-issues__questions").slideUp())});var t=window.matchMedia("screen and (max-width: 767px)");t.addListener(e),e(t),$(".section-issues__question_active").parents(".section-issues__item").find(".section-issues__block").click()}),$(function(){var e=$(".section-contacts__map");$(".map-leave__item_top").click(function(){$("html, body").animate({scrollTop:e.offset().top-document.documentElement.clientHeight},"slow")}),$(".map-leave__item_bottom").click(function(){$("html, body").animate({scrollTop:e.outerHeight()+e.offset().top},"slow")})});